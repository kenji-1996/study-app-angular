<div [@fadeInOut] *ngIf="allocatedTest && allocatedTest.test.fullPage">

  <div *ngFor="let question of allocatedTest.test.questions">
    <nb-card>
      <nb-card-header>
        <div fxLayout="row">
          <div>{{question.question}}</div>
          <span class="fill-remaining-space"></span>
          <div fxLayout="row" fxFlexAlign="end">
            <h4 class="text-center text-muted lead" style="font-size: small;" *ngIf="question">{{selectedId + 1}}/{{allocatedTest.test.questions.length}}</h4>
          </div>
        </div>
      </nb-card-header>

      <nb-card-body>
        <ng-container *ngIf="question.type === 'keywords'">
          <app-keyword-question></app-keyword-question>
        </ng-container>

        <ng-container *ngIf="question.type === 'choices'">
          <app-choice-question [choices]="question.choicesAll"></app-choice-question>
        </ng-container>

        <ng-container *ngIf="question.type === 'arrangement'">
          <app-arrangement-question [arrangement]="question.arrangement"></app-arrangement-question>
        </ng-container>

        <ng-container *ngIf="question.type === 'shortAnswer'">
          <app-shortanswer-question></app-shortanswer-question>
        </ng-container>

        <ng-container *ngIf="question.hint">
          <div class="alert alert-hint" role="alert" style="margin-top: 5px;">
            <strong>Hint</strong> <span style="font-style: italic">{{question.hint}}</span>
          </div>
        </ng-container>



        <ng-container *ngIf="question.enableTimer">
          <mat-progress-bar  mode="determinate" [value]="progress" color="accent"></mat-progress-bar>
        </ng-container>
      </nb-card-body>
      <nb-card-footer>
        <div fxLayout="row">
          <h4  class="text-center text-muted lead" style="font-size: small;" *ngIf="question">Available marks: {{question.possibleMarks}}</h4>
          <span class="fill-remaining-space"></span>
          <div fxLayout="row" fxFlexAlign="end">
            <h4 class="text-center text-muted lead" style="font-size: small;" *ngIf="question">{{selectedId + 1}}/{{allocatedTest.test.questions.length}}</h4>
          </div>
        </div>
      </nb-card-footer>
    </nb-card>
  </div>
</div>

<div [@fadeInOut] *ngIf="allocatedTest && !allocatedTest.test.fullPage">
    <nb-card *ngIf="selectedQuestion">
      <nb-card-header>
        <div fxLayout="row">
          <div>{{selectedQuestion.question}}</div>
          <span class="fill-remaining-space"></span>
          <div fxLayout="row" fxFlexAlign="end">
            <h4 class="text-center text-muted lead" style="font-size: small;" *ngIf="selectedQuestion">{{selectedId + 1}}/{{allocatedTest.test.questions.length}}</h4>
          </div>
        </div>
      </nb-card-header>

      <nb-card-body>
        <ng-container *ngIf="selectedQuestion.type === 'keywords'">
          <app-keyword-question></app-keyword-question>
        </ng-container>

        <ng-container *ngIf="selectedQuestion.type === 'choices'">
          <app-choice-question [choices]="selectedQuestion.choicesAll"></app-choice-question>
        </ng-container>

        <ng-container *ngIf="selectedQuestion.type === 'arrangement'">
          <app-arrangement-question [arrangement]="selectedQuestion.arrangement"></app-arrangement-question>
        </ng-container>

        <ng-container *ngIf="selectedQuestion.type === 'shortAnswer'">
          <app-shortanswer-question></app-shortanswer-question>
        </ng-container>

        <ng-container *ngIf="selectedQuestion.hint">
          <div class="alert alert-hint" role="alert" style="margin-top: 5px;">
            <strong>Hint</strong> <span style="font-style: italic">{{selectedQuestion.hint}}</span>
          </div>
        </ng-container>



        <ng-container *ngIf="selectedQuestion.enableTimer">
          <mat-progress-bar  mode="determinate" [value]="progress" color="accent"></mat-progress-bar>
        </ng-container>
      </nb-card-body>
      <nb-card-footer>
        <div fxLayout="row">
          <h4  class="text-center text-muted lead" style="font-size: small;" *ngIf="selectedQuestion">Available marks: {{selectedQuestion.possibleMarks}}</h4>
          <span class="fill-remaining-space"></span>
          <div fxLayout="row" fxFlexAlign="end">
            <h4 class="text-center text-muted lead" style="font-size: small;" *ngIf="selectedQuestion">{{selectedId + 1}}/{{allocatedTest.test.questions.length}}</h4>
          </div>
        </div>
      </nb-card-footer>
    </nb-card>
</div>