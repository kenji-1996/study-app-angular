<div [@fadeInOut] *ngIf="allocatedTest && allocatedTest.test.fullPage">

    <div *ngFor="let question of allocatedTest.test.questions; let i = index">
        <ng-container *ngIf="question.type === 'keywords'">
            <app-keyword-question (broadcastAnswer)="onBroadcastAnswer($event)" [question]="question" [submit]="submitAll" [fullpage]="true" [index]="i"></app-keyword-question>
        </ng-container>
        <ng-container *ngIf="question.type === 'choices'">
            <app-choice-question (broadcastAnswer)="onBroadcastAnswer($event)" [question]="question" [submit]="submitAll" [fullpage]="true" [index]="i"></app-choice-question>
        </ng-container>

        <ng-container *ngIf="question.type === 'arrangement'">
            <app-arrangement-question (broadcastAnswer)="onBroadcastAnswer($event)" [question]="question" [submit]="submitAll" [fullpage]="true" [index]="i"></app-arrangement-question>
        </ng-container>

        <ng-container *ngIf="question.type === 'shortAnswer'">
            <app-shortanswer-question (broadcastAnswer)="onBroadcastAnswer($event)" [question]="question" [submit]="submitAll" [fullpage]="true" [index]="i"></app-shortanswer-question>
        </ng-container>

        <!--<ng-container *ngIf="question.enableTimer">
            <mat-progress-bar  mode="determinate" [value]="progress" color="accent"></mat-progress-bar>
        </ng-container>-->
    </div>

    <nb-card>
        <nb-card-header>
            Submit
        </nb-card-header>
        <nb-card-body>
            **array list of answers for each question**
            <button class="btn btn-hero-success" (click)="submitAll = true">Submit</button>
            <button class="btn btn-hero-success" (click)="testFinished()">Finish</button>
        </nb-card-body>
    </nb-card>
</div>

<div [@fadeInOut] *ngIf="allocatedTest && !allocatedTest.test.fullPage">

    <div *ngFor="let question of allocatedTest.test.questions; let i = index">
        <ng-container *ngIf="question.type === 'keywords'">
            <app-keyword-question [hidden]="i !== selectedId" (onBack)="onBack($event)" (onNext)="onNext($event)" (broadcastAnswer)="onBroadcastAnswer($event)" [question]="question" [submit]="submitAll" [fullpage]="false" [index]="i"></app-keyword-question>
        </ng-container>
        <ng-container *ngIf="question.type === 'choices'">
            <app-choice-question [hidden]="i !== selectedId" (onBack)="onBack($event)" (onNext)="onNext($event)" (broadcastAnswer)="onBroadcastAnswer($event)" [question]="question" [submit]="submitAll" [fullpage]="false" [index]="i"></app-choice-question>
        </ng-container>

        <ng-container *ngIf="question.type === 'arrangement'">
            <app-arrangement-question [hidden]="i !== selectedId" (onBack)="onBack($event)" (onNext)="onNext($event)" (broadcastAnswer)="onBroadcastAnswer($event)" [question]="question" [submit]="submitAll" [fullpage]="false" [index]="i"></app-arrangement-question>
        </ng-container>

        <ng-container *ngIf="question.type === 'shortAnswer'">
            <app-shortanswer-question [hidden]="i !== selectedId" (onBack)="onBack($event)" (onNext)="onNext($event)" (broadcastAnswer)="onBroadcastAnswer($event)" [question]="question" [submit]="submitAll" [fullpage]="false" [index]="i"></app-shortanswer-question>
        </ng-container>

        <!--<ng-container *ngIf="question.enableTimer">
            <mat-progress-bar  mode="determinate" [value]="progress" color="accent"></mat-progress-bar>
        </ng-container>-->
    </div>

    <nb-card>
        <nb-card-header>
            Submit
        </nb-card-header>
        <nb-card-body>
            **array list of answers for each question**
            <button class="btn btn-hero-success" (click)="submitAll = true">Submit</button>
            <button class="btn btn-hero-success" (click)="testFinished()">Finish</button>
        </nb-card-body>
    </nb-card>
</div>
<!--
<div [@fadeInOut] *ngIf="allocatedTest && !allocatedTest.test.fullPage && selectedQuestion">
    <ng-container *ngIf="selectedQuestion.type === 'keywords'">
        <app-keyword-question (broadcastAnswer)="onBroadcastAnswer($event)" (onBack)="onBack($event)" [question]="selectedQuestion" [fullpage]="false" [index]="i"></app-keyword-question>
    </ng-container>
    <ng-container *ngIf="selectedQuestion.type === 'choices'">
        <app-choice-question (broadcastAnswer)="onBroadcastAnswer($event)" [question]="selectedQuestion" [fullpage]="false" [index]="i"></app-choice-question>
    </ng-container>

    <ng-container *ngIf="selectedQuestion.type === 'arrangement'">
        <app-arrangement-question (broadcastAnswer)="onBroadcastAnswer($event)" [question]="selectedQuestion" [fullpage]="false" [index]="i"></app-arrangement-question>
    </ng-container>

    <ng-container *ngIf="selectedQuestion.type === 'shortAnswer'">
        <app-shortanswer-question (broadcastAnswer)="onBroadcastAnswer($event)" [question]="selectedQuestion" [fullpage]="false" [index]="i"></app-shortanswer-question>
    </ng-container>
</div>-->